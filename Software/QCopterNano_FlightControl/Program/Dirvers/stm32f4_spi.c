/*====================================================================================================*/
/*====================================================================================================*/
#include "stm32f4_system.h"
#include "stm32f4_spi.h"
/*====================================================================================================*/
/*====================================================================================================*
**函數 : SPI_RW
**功能 : Receive 1Byte Data
**輸入 : SPIx
**輸出 : None
**使用 : Read = SPI_RW(SPI1, 0xFF);
**====================================================================================================*/
/*====================================================================================================*/
u8 SPI_RW( SPI_TypeDef* SPIx, u8 WriteByte )
{
  while((SPIx->SR & SPI_I2S_FLAG_TXE) == (u16)RESET);
  SPIx->DR = WriteByte;
  while((SPIx->SR & SPI_I2S_FLAG_RXNE) == (u16)RESET);

  return SPIx->DR;
}
/*====================================================================================================*/
/*====================================================================================================*/
